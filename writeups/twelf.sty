\RequirePackage{xcolor}
\lstdefinelanguage{Twelf}{alsoletter={\%},
  keywords=[1]{type},keywords=[2]{\%sig,\%struct,\%view,\%include,\%open,\%as,\%infix,\%prefix},
  otherkeywords={.,:,=,:=,->,[,],(,),\{,\}},
  comment=[l]\%\%,morecomment=[s]{\%\{}{\}\%},
  literate={\ ->\ }{{\ }{{\color{blue}$\to$}}{\ }}4{\ <-\ }{{\ }{$\leftarrow$}{\ }}4
}
\lstset{basicstyle=\fontsize{10}{11},breaklines,mathescape,columns=[c]fixed,
  language=Twelf,keywordstyle=,keywordstyle=[2]\bf,commentstyle=\color{gray},
  emphstyle=[1]\color{red},emphstyle=[2]\color{blue},emphstyle=[3]\color{olive}}